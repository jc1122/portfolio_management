# Configuration for the Momentum Strategy with Turnover Control Example
#
# This file defines a custom universe tailored for the momentum strategy
# example. It includes configurations for preselection, membership policy,
# and point-in-time (PIT) eligibility.
#
# This configuration can be used with the `run_backtest.py` script to
# achieve the same result as the `examples/momentum_strategy.py` script.
#
# Example usage with `run_backtest.py`:
# python scripts/run_backtest.py equal_weight \
#   --universe-file config/momentum_strategy_config.yaml \
#   --universe-name momentum_turnover_control \
#   --start-date 2010-01-01 \
#   --end-date 2023-12-31 \
#   --enable-cache

universes:
  momentum_turnover_control:
    description: "Momentum strategy with top 30 assets from a universe of 1000, with turnover control."

    # We will use the same assets as the `long_history_1000` universe.
    # In a real scenario, you might define the assets directly here or
    # use filter criteria to select them dynamically.
    assets: &long_history_1000_assets [
      "A", "AA", "AAL", "AAP", "AAPL", "ABBV", "ABC", "ABT", "ACGL", "ACN",
      "ADBE", "ADI", "ADM", "ADP", "ADSK", "AEE", "AEP", "AES", "AFL", "AIG",
      "AIZ", "AJG", "AKAM", "ALB", "ALGN", "ALK", "ALL", "ALLE", "AMAT", "AMCR",
      "AMD", "AME", "AMGN", "AMP", "AMT", "AMZN", "ANET", "ANSS", "AON", "AOS",
      "APA", "APD", "APH", "APTV", "ARE", "ATO", "AVB", "AVY", "AWK", "AXP",
      "AZO", "BA", "BAC", "BALL", "BAX", "BBWI", "BBY", "BDX", "BEN", "BF-B",
      "BG", "BIIB", "BIO", "BK", "BKNG", "BKR", "BLK", "BMY", "BR", "BRO",
      "BSX", "BWA", "BXP", "C", "CAG", "CAH", "CARR", "CAT", "CB", "CBOE",
      "CBRE", "CCI", "CCL", "CDAY", "CDNS", "CDW", "CE", "CEG", "CF", "CFG",
      "CHD", "CHRW", "CHTR", "CI", "CINF", "CL", "CLX", "CMA", "CMCSA", "CME",
      "CMG", "CMI", "CMS", "CNC", "CNP", "COF", "COO", "COP", "COST", "CPB",
      "CPRT", "CPT", "CRL", "CRM", "CSCO", "CSGP", "CSX", "CTAS", "CTLT", "CTRA",
      "CTSH", "CVS", "CVX", "CZR", "D", "DAL", "DD", "DE", "DFS", "DG",
      "DGX", "DHI", "DHR", "DIS", "DISH", "DLR", "DLTR", "DOV", "DOW", "DPZ",
      "DRI", "DTE", "DUK", "DVA", "DVN", "DXC", "DXCM", "EA", "EBAY", "ECL",
      "ED", "EFX", "EIX", "EL", "ELV", "EMN", "EMR", "ENPH", "EOG", "EPAM",
      "EQIX", "EQR", "EQT", "ERJ", "ES", "ESS", "ETN", "ETR", "ETSY", "EVRG",
      "EW", "EXC", "EXPD", "EXPE", "EXR", "F", "FANG", "FAST", "FCX", "FDS",
      "FDX", "FE", "FFIV", "FICO", "FIS", "FISV", "FITB", "FLT", "FMC", "FOX",
      "FOXA", "FRT", "FSLR", "FTNT", "FTV", "GD", "GE", "GEHC", "GEN", "GILD",
      "GIS", "GL", "GLW", "GM", "GNRC", "GOOG", "GOOGL", "GPC", "GPN", "GRMN",
      "GS", "GWW", "HAL", "HAS", "HBAN", "HCA", "HD", "HES", "HIG", "HII",
      "HLT", "HOLX", "HON", "HPE", "HPQ", "HRL", "HSIC", "HST", "HSY", "HUM",
      "HWM", "IBM", "ICE", "IDXX", "IEX", "IFF", "ILMN", "INCY", "INTC", "INTU",
      "INVH", "IP", "IPG", "IQV", "IRM", "ISRG", "IT", "ITW", "IVZ", "J",
      "JBL", "JCI", "JEF", "JNJ", "JNPR", "JPM", "K", "KDP", "KEY", "KEYS",
      "KHC", "KIM", "KLAC", "KMB", "KMI", "KMX", "KO", "KR", "KVUE", "L",
      "LDOS", "LEN", "LH", "LHX", "LIN", "LKQ", "LLY", "LMT", "LNC", "LNT",
      "LOW", "LULU", "LUV", "LVS", "LW", "LYB", "LYV", "MA", "MAA", "MAR",
      "MAS", "MCD", "MCHP", "MCK", "MCO", "MDLZ", "MDT", "MET", "META", "MGM",
      "MHK", "MKC", "MKTX", "MLM", "MMC", "MMM", "MNST", "MO", "MOH", "MOS",
      "MPC", "MPWR", "MRK", "MRNA", "MRO", "MS", "MSCI", "MSFT", "MSI", "MTB",
      "MTCH", "MTD", "MU", "NCLH", "NDAQ", "NEE", "NEM", "NFLX", "NI", "NKE",
      "NOC", "NOW", "NRG", "NSC", "NTAP", "NTRS", "NUE", "NVDA", "NVR", "NWS",
      "NWSA", "NXPI", "O", "ODFL", "OGN", "OKE", "OMC", "ON", "ORCL", "ORLY",
      "OTIS", "OXY", "PANW", "PARA", "PAYC", "PAYX", "PCAR", "PCG", "PEAK", "PEG",
      "PEP", "PFE", "PFG", "PG", "PGR", "PH", "PHM", "PKG", "PLD", "PM",
      "PNC", "PNR", "PNW", "PODD", "POOL", "PPG", "PPL", "PRU", "PSA", "PSX",
      "PTC", "PWR", "PXD", "PYPL", "QCOM", "QRVO", "RCL", "REG", "REGN", "RF",
      "RHI", "RJF", "RL", "RMD", "ROK", "ROL", "ROP", "ROST", "RSG", "RTX",
      "SBAC", "SBUX", "SCHW", "SJM", "SLB", "SNA", "SNPS", "SO", "SPG", "SPGI",
      "SRE", "STE", "STLD", "STT", "STX", "STZ", "SWK", "SWKS", "SYF", "SYK",
      "SYY", "T", "TAP", "TDG", "TDY", "TECH", "TEL", "TER", "TFC", "TFX",
      "TGT", "TJX", "TMO", "TMUS", "TPR", "TRGP", "TRMB", "TROW", "TRV", "TSCO",
      "TSLA", "TSN", "TT", "TTWO", "TXN", "TXT", "UAL", "UDR", "UHS", "ULTA",
      "UNH", "UNP", "UPS", "URI", "USB", "V", "VFC", "VICI", "VLO", "VMC",
      "VRSK", "VRSN", "VRTX", "VTR", "VTRS", "VZ", "WAB", "WBA", "WBD", "WDC",
      "WEC", "WELL", "WFC", "WHR", "WM", "WMB", "WMT", "WRB", "WRK", "WST",
      "WTW", "WY", "WYNN", "XEL", "XOM", "XRAY", "XYL", "YUM", "ZBH", "ZBRA",
      "ZION", "ZTS"
    ]

    # Point-in-Time (PIT) Eligibility Configuration
    # Ensures that only assets with sufficient history are included at each
    # rebalancing date, preventing lookahead bias.
    pit_eligibility:
      enabled: true
      min_history_days: 252  # Require at least 1 year of trading history

    # Preselection Configuration (The Momentum Factor)
    # This block defines the core of the momentum strategy. It filters the
    # universe down to a smaller set of assets based on a momentum score.
    preselection:
      method: "momentum"
      top_k: 30             # Select the top 30 assets with the highest momentum
      lookback: 252         # Calculate momentum over the past 12 months (252 trading days)
      skip: 21              # Skip the most recent month (21 trading days) to avoid short-term reversal
      min_periods: 126      # Require at least 6 months of data to calculate momentum

    # Membership Policy (Turnover Control)
    # This policy helps to reduce portfolio churn by creating a "buffer"
    # for existing holdings. An asset will remain in the portfolio as long as
    # its rank doesn't fall below `top_k + buffer_rank`.
    membership_policy:
      enabled: true
      buffer_rank: 50         # Buffer of 50 ranks (30 top_k + 50 = 80th rank)
      min_holding_periods: 3  # Hold an asset for at least 3 rebalancing periods (3 months)
